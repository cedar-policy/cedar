/*
 Can User::bob view Photo:VacationPhoto94.jpg

 Decision: Allow
 Reason: Bob is the owner of the resource
*/

./bin/cedar authorize \
    --policies tiny_sandboxes/sample2/policy.txt \
    --entities tiny_sandboxes/sample2/entity.json \
    --request-json tiny_sandboxes/sample2/request.json


/*
Validation:

Is policy.txt valid based on the schema schema.json
*/

./bin/cedar validate \
    --policies tiny_sandboxes/sample2/policy.txt \
    --schema tiny_sandboxes/sample2/schema.json

/*
Evaluate:

Evaluate a Cedar expression
*/

./bin/cedar evaluate  \
    --request-json tiny_sandboxes/sample2/request.json \
    --entities tiny_sandboxes/sample2/entity.json \
    "resource.owner"

./bin/cedar evaluate  \
    --principal 'User::"alice"' \
    --action 'Action::"view"' \
    --resource 'Photo::"VacationPhoto94.jpg"' \
    --entities tiny_sandboxes/sample2/entity.json \
    "resource.owner"

./bin/cedar evaluate  \
    --request-json tiny_sandboxes/sample2/request.json \
    "if 10 > 5 then \"good\" else \"bad\""
